<!DOCTYPE html>
{%load verbatim%}
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>{% block title %}Draw{% endblock %}</title>
    <meta name="description" content="Draw project">
    <meta name="author" content="Marcos Arranz Mateo">
    <!—[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]—>
    <link href="{{ STATIC_URL }}bootstrap/css/bootstrap.css" rel="stylesheet">
    <style>
        body { padding-top: 60px; }
    </style>
    <link href="{{ STATIC_URL }}bootstrap/css/bootstrap-responsive.css" rel="stylesheet">
    <!--<script>
        Task = Backbone.Model.extend({
            initialize: function(){
                this.set({
                    htmlId: 'task_' + this.cid
                });
                this.bind("change:duedate", function(){
                    var day = this.get("duedate");
                    alert("Changed date to " + day);
                });
            },
            changeDueDate: function( day ){
                this.set({ duedate: day});
            }
        });
        var task1 = new Task({ title: "Learning backbonejs", duedate: "today"});
        var task2 = new Task({ title: "Learning stuff", duedate: "today"});
        var TaskList = Backbone.Collection.extend({
            model: Task
        });
        var myTaskList = new TaskList([task1, task2]);
        console.log( myTaskList.models);

        var AppRouter = Backbone.Router.extend({
            routes: {
                "api/task/:id": "getTask",
                "api/task": "getTaskList",
                "*actions": "defaultRoute"
            },
            getTask: function( id ){
                alert('getting task ' + id);
            },
            getTaskList: function(){
                alert('getting tasks list');
            },
            defaultRoute: function(actions){
                alert(actions);
            }
        });
        var app_router = new AppRouter;
        Backbone.history.start();

        var TaskView = Backbone.View.extend({
            render: function(){
                this.el = ich.task(this.model.toJSON());
                return this;
            }
        });
        var taskView = new TaskView();
    </script>-->
</head>
<body>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="{{ STATIC_URL }}bootstrap/js/bootstrap.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.3.3/underscore-min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/backbone.js/0.9.2/backbone-min.js"></script>
<script src="{{ STATIC_URL }}js/lib/ICanHaz.js"></script>
{% verbatim %}
<script id="task" type="text/html">
    <h1>Task App</h1>
    <p>Task name {{ title }}</p>
</script>
{% endverbatim %}
<div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>
            <a class="brand" href="#">Draw</a>
            <div class="nav-collapse">
                <ul class="nav">
                    <li class="active"><a href="/">Home</a></li>
                    <li><a href="#about">Bio</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>
<div class="container-fluid">
    <h1>Bienvenido a mi aplicacion</h1>
    <p>Lista de tareas</p>
    <div id="columns" class="row-fluid">
        <div class="span12">
            <div id="column1" class="span4">
                Column 1
                {{ logged }}
            </div>
            <div id="column2" class="span8">
                {% block content %}
                {% endblock %}
                <div id="app">

                </div>

            </div>
        </div>
    </div>
    <footer>
        <p>&copy; Company 2012</p>
    </footer>
</div> <!— /container —>
</body>
</html>